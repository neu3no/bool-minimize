/*
 * Author
 *  Christian Neubauer
 *  web: http://neu3no.de/  twitter: @neu3no  mail: the@neu3no.de
 *    
 * Licence
 *  (cc-by-nc) 2012 
 *  This work is licensed under the Creative Commons Attribution-NonCommercial 
 *  3.0 Unported License. To view a copy of this license, visit 
 *  http://creativecommons.org/licenses/by-nc/3.0/.
 * 
 * Project
 *  website: http://neu3no.de/bool-minimize
 *  github : https://github.com/neu3no/bool-minimize
 * 
 */
if(!Object.N3OFUNCZ){alert("functions.js needs to be embedded first!")}var S_OR="+";var S_AND="•";var S_NOT="¬";var aniindex=0;var scenes={0:{"#source":{display:"block",visibility:"visible",width:"100%","float":"none"},"#target":{display:"none",visibility:"hidden",width:"0","float":"none"},"#chart":{display:"none",visibility:"hidden",width:"0","float":"none"},"#navTarget":{cursor:"default",opacity:"0.25"},"#navChart":{cursor:"default",opacity:"0.25"}},1:{"#source":{display:"block",visibility:"visible",width:"39%","float":"left"},"#target":{display:"block",visibility:"visible",width:"59%","float":"right"},"#chart":{display:"none",visibility:"hidden",width:"0","float":"none"},"#navTarget":{cursor:"pointer",opacity:"1"},"#navChart":{cursor:"pointer",opacity:"1"}},2:{"#target":{display:"block",visibility:"visible",width:"39%","float":"left"},"#chart":{display:"block",visibility:"visible",width:"59%","float":"right"},"#source":{display:"none",visibility:"hidden",width:"0","float":"none"},"#navTarget":{cursor:"pointer",opacity:"1"},"#navChart":{cursor:"pointer",opacity:"1"}}};var loadScene=function(a){var c=scenes[a];for(elementname in c){var b=c[elementname];for(propertyname in b){switch(propertyname){case"width":$(elementname).width(b[propertyname]);break;case"visibility":if(b[propertyname]=="visible"){$(elementname).show()}else{if(b[propertyname]=="hidden"){$(elementname).hide()}else{$(elementname).css(propertyname,b[propertyname])}}break;default:$(elementname).css(propertyname,b[propertyname]);break}}}if($("#target").height()>$("#source").height()){$("#source").height($("#target").height())}else{$("#target").height($("#source").height())}};var init=function(){var c=window.location.hash.substring(1);var b=3;var a=false;if(c!=""){b=Math.floor(Math.log2(c.length))}stable=new sourceTable($("#source"),b);loadScene(0);if(c!=""){stable.tablefill(c)}stable.newTable=function(d){loadScene(0);stable.changed(d)};stable.fire=function(){var d=stable.getMatrix();var f=new quine(d);if(!f.empty){f.solve(function(){loadScene(1);ttable=new targetTable("#target",f);ptable=new pITable("#chart",f);var l=f.getPITerms();tmp="";for(ti in l){var k=b+0;var i=l[ti][0];var j=l[ti][1];while(k>0){var h=(i>>1<<1!=i);var g=(j>>1<<1!=j);if(!g){tmp+=(h?" ":" ¬");tmp+="x"+k+" ∧"}i>>=1;j>>=1;k--}tmp=tmp.slice(0,-2);tmp+=" ∨"}tmp=tmp.slice(0,-2);console.log(tmp);a=true})}else{alert('plz add at least one "1".')}};stable.changed=function(d){var f="#";a=false;for(e in d){f+=(d[e]>>1<<1==d[e]?"0":"1")}window.location.hash=f};$("#navInput").click(function(){loadScene(0)});$("#navTarget").click(function(){stable.fire()});$("#navChart").click(function(){if(a){loadScene(2)}else{stable.fire()}})};$(document).ready(init);